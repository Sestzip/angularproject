"use strict";(self.webpackChunkUserManagement=self.webpackChunkUserManagement||[]).push([[655],{4655:(v,g,c)=>{c.r(g),c.d(g,{ManageDocumentsModule:()=>A});var m=c(9808),h=c(8493),d=c(7579),t=c(4893),p=c(8232);let _=(()=>{class o{constructor(e){this.bsModalRef=e}ngOnInit(){this.onClosePopup=new d.x}onConfirm(){this.bsModalRef.content.onClose.next(!0),this.bsModalRef.hide()}onCancel(){this.bsModalRef.content.onClose.next(!1),this.bsModalRef.hide()}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(p.UZ))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-confirmation-popup"]],decls:13,vars:1,consts:[[1,"modal-header"],["type","button","aria-label","Close",1,"close","pull-right",3,"click"],["aria-hidden","true"],["id","exampleModalLabel",1,"modal-title","ml-auto","pl-5"],[1,"modal-body"],[1,"modal-footer","d-flex","justify-content-center","m-3"],["type","submit",1,"btn","btn-primary",3,"click"],["type","button",1,"btn","btn-dark","btn-pill",3,"click"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"button",1),t.NdJ("click",function(){return n.onCancel()}),t.TgZ(2,"span",2),t._uU(3,"\xd7"),t.qZA()(),t.TgZ(4,"h4",3),t._uU(5),t.qZA()(),t.TgZ(6,"div",4),t._uU(7," Are you sure want to delete record ?\n"),t.qZA(),t.TgZ(8,"div",5)(9,"button",6),t.NdJ("click",function(){return n.onConfirm()}),t._uU(10,"Ok"),t.qZA(),t.TgZ(11,"button",7),t.NdJ("click",function(){return n.onCancel()}),t._uU(12,"Cancel"),t.qZA()()),2&e&&(t.xp6(5),t.hij(" ",n.title," "))},styles:[""]}),o})(),C=(()=>{class o{constructor(){}checkArrayExist(e){return void 0!==e&&null!=e&&null!=e.length&&e.length>0}}return o.\u0275fac=function(e){return new(e||o)},o.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();var f=c(2382);let b=(()=>{class o{constructor(e,n){this.bsModalRef=e,this.utilityService=n}ngOnInit(){this.onClosePopup=new d.x}onConfirm(){this.bsModalRef.content.onClose.next(this.data),this.bsModalRef.hide()}onCancel(){this.bsModalRef.content.onClose.next(!1),this.bsModalRef.hide()}importFile(e){if(0!=e.target.files.length&&this.utilityService.checkArrayExist(JSON.parse(localStorage.getItem("document-upload")))){const a=JSON.parse(localStorage.getItem("document-upload")).findIndex(s=>s.FileUploadId===this.fileId),l=JSON.parse(localStorage.getItem("document-upload")).filter(s=>!1===s.IsFileDeleted);this.data=e.target.files[0].name;let i=JSON.parse(localStorage.getItem("document-upload")).filter(s=>s.FileUploadId===this.fileId);var n=new FileReader;n.onloadend=s=>{i[0].Label=JSON.parse(localStorage.getItem("userList")).filter(u=>!0===u.IsActive)[0].FullName,i[0].FileName=e.target.files[0].name,i[0].FileUploadId=this.fileId+1,i[0].FilePath=n.result,i[0].IsFileDeleted=!1,i[0].FileType=e.target.files[0].type,l[a]=i[0],localStorage.setItem("document-upload",JSON.stringify(l)),i=null},n.readAsDataURL(e.target.files[0])}}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(p.UZ),t.Y36(C))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-edit-component"]],decls:23,vars:2,consts:[[1,"modal-header"],["type","button","aria-label","Close",1,"close","pull-right",3,"click"],["aria-hidden","true"],["id","exampleModalLabel",1,"modal-title","ml-auto","pl-5"],[1,"modal-body"],[1,"row"],[1,"col-md-3"],[1,"col-md-6"],["type","text","placeholder","Change the value",2,"width","100%",3,"ngModel","ngModelChange"],["type","file",2,"display","none",3,"click","change"],["fileUpload",""],[1,"btn","btn-primary","btn-sm",2,"float","right",3,"click"],[1,"modal-footer","d-flex","justify-content-center","m-3"],["type","submit",1,"btn","btn-primary","btn-sm",3,"click"],["type","button",1,"btn","btn-dark","btn-pill","btn-sm",3,"click"]],template:function(e,n){if(1&e){const a=t.EpF();t.TgZ(0,"div",0)(1,"button",1),t.NdJ("click",function(){return n.onCancel()}),t.TgZ(2,"span",2),t._uU(3,"\xd7"),t.qZA()(),t.TgZ(4,"h4",3),t._uU(5),t.qZA()(),t.TgZ(6,"div",4)(7,"div",5)(8,"div",6)(9,"p"),t._uU(10,"File Description"),t.qZA()(),t.TgZ(11,"div",7)(12,"input",8),t.NdJ("ngModelChange",function(i){return n.data=i}),t.qZA()(),t.TgZ(13,"div",6)(14,"input",9,10),t.NdJ("click",function(){return t.CHM(a),t.MAs(15).value=null})("change",function(i){return n.importFile(i)}),t.qZA(),t.TgZ(16,"button",11),t.NdJ("click",function(){return t.CHM(a),t.MAs(15).click()}),t._uU(17,"Upload"),t.qZA()()()(),t.TgZ(18,"div",12)(19,"button",13),t.NdJ("click",function(){return n.onConfirm()}),t._uU(20,"Save"),t.qZA(),t.TgZ(21,"button",14),t.NdJ("click",function(){return n.onCancel()}),t._uU(22,"Cancel"),t.qZA()()}2&e&&(t.xp6(5),t.hij(" ",n.title," "),t.xp6(7),t.Q6J("ngModel",n.data))},directives:[f.Fj,f.JJ,f.On],styles:[""]}),o})(),y=(()=>{class o{constructor(e){this.bsModalRef=e}ngOnInit(){this.onClosePopup=new d.x}onConfirm(){this.bsModalRef.content.onClose.next(this.data),this.bsModalRef.hide()}onCancel(){this.bsModalRef.content.onClose.next(!1),this.bsModalRef.hide()}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(p.UZ))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-preview"]],decls:9,vars:2,consts:[[1,"modal-header"],["type","button","aria-label","Close",1,"close","pull-right",3,"click"],["aria-hidden","true"],["id","exampleModalLabel",1,"modal-title","ml-auto","pl-5"],[2,"width","50%",3,"src"],["type","button",1,"btn","btn-dark","btn-pill","btn-sm",2,"margin-top","40%","float","right",3,"click"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"button",1),t.NdJ("click",function(){return n.onCancel()}),t.TgZ(2,"span",2),t._uU(3,"\xd7"),t.qZA()(),t.TgZ(4,"h4",3),t._uU(5),t.qZA(),t._UZ(6,"img",4),t.TgZ(7,"button",5),t.NdJ("click",function(){return n.onCancel()}),t._uU(8,"Cancel"),t.qZA()()),2&e&&(t.xp6(5),t.hij(" ",n.title," "),t.xp6(1),t.Q6J("src",n.data,t.LSH))},styles:[""]}),o})();var U=c(2313),M=c(6070);function Z(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"a",14),t.NdJ("click",function(){t.CHM(e);const a=t.oxw().$implicit;return t.oxw().preViewModal(a.FileUploadId)}),t._uU(1,"PreView |"),t.qZA()}}function T(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"tr")(1,"td",12),t._uU(2),t.qZA(),t.TgZ(3,"td",13),t._uU(4),t.qZA(),t.TgZ(5,"td",12)(6,"a",14),t.NdJ("click",function(){const l=t.CHM(e).$implicit;return t.oxw().editModal(l.FileUploadId)}),t._uU(7,"Edit |"),t.qZA(),t.TgZ(8,"a",14),t.NdJ("click",function(){const l=t.CHM(e).$implicit;return t.oxw().showModal(l.FileUploadId)}),t._uU(9,"Delete |"),t.qZA(),t.YNc(10,Z,2,0,"a",15),t.TgZ(11,"a",16),t._uU(12,"Download"),t.qZA()()()}if(2&o){const e=r.$implicit;t.xp6(2),t.Oqu(e.Label),t.xp6(2),t.Oqu(e.FileName),t.xp6(6),t.Q6J("ngIf","image/jpeg"===e.FileType||"image/png"===e.FileType),t.xp6(1),t.s9C("href",e.FilePath,t.LSH),t.s9C("download","file."+e.FileType.split("/")[1])}}const I=[{path:"",children:[{path:"",component:(()=>{class o{constructor(e,n){this.modalService=e,this.domSanitizer=n,this.DocumentArray=[],this.fileId=0}ngOnInit(){this.checkArrayExist(JSON.parse(localStorage.getItem("document-upload")))&&(this.DocumentArray=JSON.parse(localStorage.getItem("document-upload")).filter(e=>!1===e.IsFileDeleted))}importFile(e){if(0!=e.target.files.length){this.checkArrayExist(JSON.parse(localStorage.getItem("document-upload")))&&(this.fileId=JSON.parse(localStorage.getItem("document-upload"))[JSON.parse(localStorage.getItem("document-upload")).length-1].FileUploadId);var n=new FileReader;n.onloadend=a=>{this.fileUpload={Label:JSON.parse(localStorage.getItem("userList")).filter(l=>!0===l.IsActive)[0].FullName,FileName:e.target.files[0].name,FileUploadId:this.fileId+1,FilePath:n.result,IsFileDeleted:!1,FileType:e.target.files[0].type},this.DocumentArray.push(this.fileUpload),localStorage.setItem("document-upload",JSON.stringify(this.DocumentArray)),this.ngOnInit()},n.readAsDataURL(e.target.files[0])}}checkArrayExist(e){return void 0!==e&&null!=e&&null!=e.length&&e.length>0}showModal(e){this.bsModalRef=this.modalService.show(_,Object.assign({class:"modal-sm"},{initialState:{message:"popup message",title:"Confirm File Deletion"}})),this.bsModalRef.content.onClose=new d.x,this.bsModalRef.content.onClose.subscribe(l=>{if(!0===l&&this.checkArrayExist(JSON.parse(localStorage.getItem("document-upload")))){const i=JSON.parse(localStorage.getItem("document-upload")),s=JSON.parse(localStorage.getItem("document-upload")).findIndex(k=>k.FileUploadId===e),u=JSON.parse(localStorage.getItem("document-upload"))[s];u.IsFileDeleted=l,i[s]=u,localStorage.setItem("document-upload",JSON.stringify(i)),this.ngOnInit()}})}editModal(e){let n={data:JSON.parse(localStorage.getItem("document-upload")).filter(l=>l.FileUploadId===e)[0].FileName,title:"Edit",fileId:e};this.bsModalRef=this.modalService.show(b,Object.assign({class:"modal-md"},{initialState:n})),this.bsModalRef.content.onClose=new d.x,this.bsModalRef.content.onClose.subscribe(l=>{null!=l&&this.ngOnInit()})}preViewModal(e){let n={data:JSON.parse(localStorage.getItem("document-upload")).filter(l=>l.FileUploadId===e)[0].FilePath,title:"View Image"};this.bsModalRef=this.modalService.show(y,Object.assign({class:"modal-sm"},{initialState:n})),this.bsModalRef.content.onClose=new d.x}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(p.tT),t.Y36(U.H7))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-document-upload-list"]],decls:23,vars:1,consts:[[1,"card"],[1,"row"],[1,"col-md-6"],[1,"card-header",2,"font-weight","bold","text-align","left","margin-left","4px","margin-bottom","15px"],["type","file",2,"display","none",3,"click","change"],["fileUpload",""],[1,"btn","btn-primary",2,"float","right",3,"click"],[1,"row",2,"margin-right","0px !important","margin-left","0px !important","height","210px","overflow-x","hidden","overflow-y","auto","text-align","justify"],[1,"table","table-bordered","table-striped"],[2,"background-color","lightgray","border","1px solid black"],[2,"text-align","center"],[4,"ngFor","ngForOf"],[2,"width","30%"],[2,"width","40%"],[3,"click"],[3,"click",4,"ngIf"],["target","_self",3,"href","download"]],template:function(e,n){if(1&e){const a=t.EpF();t._UZ(0,"app-menu"),t.TgZ(1,"div",0)(2,"div",1)(3,"div",2)(4,"h4",3),t._uU(5,"My Uploads"),t.qZA()(),t.TgZ(6,"div",2)(7,"input",4,5),t.NdJ("click",function(){return t.CHM(a),t.MAs(8).value=null})("change",function(i){return n.importFile(i)}),t.qZA(),t.TgZ(9,"button",6),t.NdJ("click",function(){return t.CHM(a),t.MAs(8).click()}),t._uU(10,"Upload"),t.qZA()()(),t.TgZ(11,"div",7)(12,"table",8)(13,"thead",9)(14,"tr")(15,"th",10),t._uU(16,"Label"),t.qZA(),t.TgZ(17,"th",10),t._uU(18,"File Name"),t.qZA(),t.TgZ(19,"th",10),t._uU(20,"Action"),t.qZA()()(),t.TgZ(21,"tbody"),t.YNc(22,T,13,5,"tr",11),t.qZA()()()()}2&e&&(t.xp6(22),t.Q6J("ngForOf",n.DocumentArray))},directives:[M.M,m.sg,m.O5],styles:[""]}),o})(),data:{title:"Manage Document"}}]}];let S=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[[h.Bz.forChild(I)],h.Bz]}),o})();var F=c(294);let A=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[[m.ez,S,F.I]]}),o})()}}]);