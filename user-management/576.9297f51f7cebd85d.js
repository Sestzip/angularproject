"use strict";(self.webpackChunkUserManagement=self.webpackChunkUserManagement||[]).push([[576],{4576:(T,d,o)=>{o.r(d),o.d(d,{ManageUserModule:()=>x});var u=o(9808),l=o(8493),n=o(2382),e=o(4893),g=o(6070);function c(r,s){1&r&&(e.TgZ(0,"div",15),e._uU(1," Full Name is required "),e.qZA())}function f(r,s){1&r&&(e.TgZ(0,"div",16),e._uU(1," Email is required "),e.qZA())}let h=(()=>{class r{constructor(t,i,a){this.fb=t,this.route=i,this.router=a,this.userList=[],this.userId=i.snapshot.params.id}ngOnInit(){this.editUserForm=this.fb.group({FullName:["",[n.kI.required]],Email:["",[n.kI.required,n.kI.email]]}),this.initialiseForm()}onSubmit(t){if(JSON.parse(localStorage.getItem("userList")).filter(a=>a.Email===t.value.Email).length>0){let a=JSON.parse(localStorage.getItem("userList")).findIndex(m=>m.Email===t.value.Email);this.userList=JSON.parse(localStorage.getItem("userList")),this.userList[a].FullName=t.value.FullName,this.userList[a].Email=t.value.Email,localStorage.setItem("userList",JSON.stringify(this.userList)),this.editUserForm.reset(),this.userList=[],this.router.navigate(["manage-user"])}}initialiseForm(){if(this.checkArrayExist(JSON.parse(localStorage.getItem("userList")))){const t=JSON.parse(localStorage.getItem("userList")).filter(i=>i.Id===Number(this.userId));t.length>0&&this.editUserForm.patchValue(t[0])}}checkArrayExist(t){return void 0!==t&&null!=t&&null!=t.length&&t.length>0}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(n.qu),e.Y36(l.gz),e.Y36(l.F0))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-edit-user"]],decls:30,vars:4,consts:[[1,"card",2,"margin-top","25px"],[1,"card-header",2,"font-weight","bold"],[1,"card-body"],[3,"formGroup","ngSubmit"],[1,"form-group"],[1,"row"],[1,"col-md-3"],["for","username"],[1,"text-danger"],["type","text","placeholder","Enter Full Name","formControlName","FullName",1,"form-control"],["class","text-danger","style","margin-left: -8px;",4,"ngIf"],["type","text","placeholder","Enter Email","formControlName","Email",1,"form-control"],["class","text-danger","style","margin-left: 4px;",4,"ngIf"],[1,"form-group","registerBtn"],[1,"btn","btn-primary",3,"disabled"],[1,"text-danger",2,"margin-left","-8px"],[1,"text-danger",2,"margin-left","4px"]],template:function(t,i){1&t&&(e._UZ(0,"app-menu"),e.TgZ(1,"div",0)(2,"h4",1),e._uU(3,"Edit User Information"),e.qZA(),e._UZ(4,"br"),e.TgZ(5,"div",2)(6,"form",3),e.NdJ("ngSubmit",function(){return i.onSubmit(i.editUserForm)}),e.TgZ(7,"div",4)(8,"div",5)(9,"div",6)(10,"label",7),e._uU(11,"Full Name"),e.TgZ(12,"span",8),e._uU(13,"*"),e.qZA()()(),e.TgZ(14,"div",6),e._UZ(15,"input",9),e.YNc(16,c,2,0,"div",10),e.qZA()()(),e.TgZ(17,"div",4)(18,"div",5)(19,"div",6)(20,"label",7),e._uU(21,"Email"),e.TgZ(22,"span",8),e._uU(23,"*"),e.qZA()()(),e.TgZ(24,"div",6),e._UZ(25,"input",11),e.YNc(26,f,2,0,"div",12),e.qZA()()(),e.TgZ(27,"div",13)(28,"button",14),e._uU(29,"Save"),e.qZA()()()()()),2&t&&(e.xp6(6),e.Q6J("formGroup",i.editUserForm),e.xp6(10),e.Q6J("ngIf",i.editUserForm.get("FullName").hasError("required")&&i.editUserForm.get("FullName").touched),e.xp6(10),e.Q6J("ngIf",i.editUserForm.get("Email").hasError("required")&&i.editUserForm.get("Email").touched),e.xp6(2),e.Q6J("disabled",i.editUserForm.invalid))},directives:[g.M,n._Y,n.JL,n.sg,n.Fj,n.JJ,n.u,u.O5],styles:[""]}),r})();var p=o(8232);const U=function(r){return["/manage-user/edit/",r]};function Z(r,s){if(1&r){const t=e.EpF();e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td")(6,"a",7),e._uU(7,"Edit"),e.qZA(),e.TgZ(8,"span"),e._uU(9,"|"),e.qZA(),e.TgZ(10,"a",8),e.NdJ("click",function(){const m=e.CHM(t).$implicit;return e.oxw().showModal(m.Id)}),e._uU(11,"Delete"),e.qZA()()()}if(2&r){const t=s.$implicit;e.xp6(2),e.Oqu(t.FullName),e.xp6(2),e.Oqu(t.Email),e.xp6(2),e.Q6J("routerLink",e.VKq(3,U,t.Id))}}const v=[{path:"",children:[{path:"",component:(()=>{class r{constructor(t){this.modalService=t,this.popupOpen=!1}ngOnInit(){this.userList=JSON.parse(localStorage.getItem("userList")).filter(t=>!1===t.IsActive&&!1===t.IsDeleted)}showModal(t){}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(p.tT))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-user-list"]],decls:16,vars:1,consts:[[1,"card"],[1,"card-header",2,"font-weight","bold","text-align","left","margin-left","4px","margin-bottom","15px"],[1,"row",2,"margin-right","0px !important","margin-left","0px !important"],[1,"table","table-bordered","table-striped"],[2,"background-color","lightgray"],[2,"text-align","center"],[4,"ngFor","ngForOf"],[3,"routerLink"],[3,"click"]],template:function(t,i){1&t&&(e._UZ(0,"app-menu"),e.TgZ(1,"div",0)(2,"h4",1),e._uU(3,"Users"),e.qZA(),e.TgZ(4,"div",2)(5,"table",3)(6,"thead",4)(7,"tr")(8,"th",5),e._uU(9,"User Name"),e.qZA(),e.TgZ(10,"th",5),e._uU(11,"User Email ID"),e.qZA(),e.TgZ(12,"th",5),e._uU(13,"Action"),e.qZA()()(),e.TgZ(14,"tbody"),e.YNc(15,Z,12,5,"tr",6),e.qZA()()()()),2&t&&(e.xp6(15),e.Q6J("ngForOf",i.userList))},directives:[g.M,u.sg,l.yS],styles:[""]}),r})(),data:{title:"Manage User"}},{path:"edit",children:[{path:":id",pathMatch:"full",component:h}]}]}];let F=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[[l.Bz.forChild(v)],l.Bz]}),r})();var E=o(294);let x=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[[u.ez,F,E.I,n.u5,n.UX,p.zk.forRoot()]]}),r})()}}]);